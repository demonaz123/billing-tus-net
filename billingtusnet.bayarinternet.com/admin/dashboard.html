<script>

    document.addEventListener('DOMContentLoaded', function() {
        // Chart data from Laravel
        const chartData = {
            "customerStatus": {
                "labels": ["Aktif", "Tidak Aktif", "Disuspend"],
                "data": [0, 0, 0],
                "colors": ["#20c997", "#6c757d", "#fd7e14"]
            },
            "invoiceStatus": {
                "labels": ["Terbayar", "Belum Dibayar", "Terlambat"],
                "data": [0, 0, 0],
                "colors": ["#20c997", "#ffc107", "#dc3545"]
            },
            "monthlyRevenue": {
                "categories": [],
                "data": []
            },
            "customerGrowth": {
                "categories": [],
                "data": []
            },
            "connectionTypes": {
                "labels": ["PPPoE"],
                "data": [0],
                "colors": ["#3b82f6"]
            }
        };

        // 1. Customer Status Pie Chart
        const customerStatusOptions = {
            series: chartData.customerStatus.data,
            chart: {
                type: 'pie',
                height: 350,
                foreColor: '#374151'
            },
            labels: chartData.customerStatus.labels,
            colors: chartData.customerStatus.colors,
            responsive: [{
                breakpoint: 480,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom'
                    }
                }
            }],
            legend: {
                position: 'bottom',
                labels: {
                    colors: '#374151'
                }
            },
            plotOptions: {
                pie: {
                    dataLabels: {
                        offset: -5
                    }
                }
            },
            dataLabels: {
                style: {
                    fontSize: '12px',
                    fontWeight: 'bold',
                    colors: ['#ffffff']
                }
            }
        };
        const customerStatusChart = new ApexCharts(document.querySelector("#chart-customer-status"),
            customerStatusOptions);
        customerStatusChart.render();

        // 2. Invoice Status Donut Chart
        const invoiceStatusOptions = {
            series: chartData.invoiceStatus.data,
            chart: {
                type: 'donut',
                height: 350,
                foreColor: '#374151'
            },
            labels: chartData.invoiceStatus.labels,
            colors: chartData.invoiceStatus.colors,
            responsive: [{
                breakpoint: 480,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom'
                    }
                }
            }],
            legend: {
                position: 'bottom',
                labels: {
                    colors: '#374151'
                }
            },
            plotOptions: {
                pie: {
                    donut: {
                        labels: {
                            show: true,
                            name: {
                                show: true,
                                color: '#374151'
                            },
                            value: {
                                show: true,
                                color: '#374151',
                                fontWeight: 'bold'
                            },
                            total: {
                                show: true,
                                color: '#374151'
                            }
                        }
                    }
                }
            },
            dataLabels: {
                style: {
                    fontSize: '12px',
                    fontWeight: 'bold',
                    colors: ['#ffffff']
                }
            }
        };
        const invoiceStatusChart = new ApexCharts(document.querySelector("#chart-invoice-status"),
            invoiceStatusOptions);
        invoiceStatusChart.render();

        // 3. Revenue Trend Area Chart
        const revenueTrendOptions = {
            series: [{
                name: 'Pendapatan',
                data: chartData.monthlyRevenue.data
            }],
            chart: {
                type: 'area',
                height: 350,
                zoom: {
                    enabled: false
                },
                foreColor: '#374151'
            },
            colors: ['#20c997'],
            dataLabels: {
                enabled: false
            },
            stroke: {
                curve: 'smooth'
            },
            xaxis: {
                categories: chartData.monthlyRevenue.categories,
                labels: {
                    style: {
                        colors: '#374151'
                    }
                }
            },
            yaxis: {
                labels: {
                    formatter: function(val) {
                        return 'Rp ' + val.toLocaleString('id-ID');
                    },
                    style: {
                        colors: '#374151'
                    }
                }
            },
            fill: {
                type: 'gradient',
                gradient: {
                    shadeIntensity: 1,
                    opacityFrom: 0.7,
                    opacityTo: 0.3,
                    stops: [0, 90, 100]
                }
            },
            tooltip: {
                theme: 'light'
            }
        };
        const revenueTrendChart = new ApexCharts(document.querySelector("#chart-revenue-trend"),
            revenueTrendOptions);
        revenueTrendChart.render();

        // 4. Customer Growth Line Chart
        const customerGrowthOptions = {
            series: [{
                name: 'Pelanggan Baru',
                data: chartData.customerGrowth.data
            }],
            chart: {
                type: 'line',
                height: 350,
                foreColor: '#374151'
            },
            colors: ['#3b82f6'],
            dataLabels: {
                enabled: false
            },
            stroke: {
                curve: 'smooth',
                width: 3
            },
            xaxis: {
                categories: chartData.customerGrowth.categories,
                labels: {
                    style: {
                        colors: '#374151'
                    }
                }
            },
            yaxis: {
                labels: {
                    style: {
                        colors: '#374151'
                    }
                }
            },
            markers: {
                size: 6,
                strokeWidth: 2,
                hover: {
                    size: 8
                }
            },
            grid: {
                show: true,
                borderColor: '#e7e7e7',
                strokeDashArray: 5,
            },
            tooltip: {
                theme: 'light'
            }
        };
        const customerGrowthChart = new ApexCharts(document.querySelector("#chart-customer-growth"),
            customerGrowthOptions);
        customerGrowthChart.render();

        // 5. Connection Types Radial Bar Chart
        const connectionTypesOptions = {
            series: chartData.connectionTypes.data,
            chart: {
                type: 'polarArea',
                height: 350,
                foreColor: '#374151'
            },
            labels: chartData.connectionTypes.labels,
            colors: chartData.connectionTypes.colors,
            stroke: {
                width: 2
            },
            fill: {
                opacity: 0.8
            },
            legend: {
                position: 'bottom',
                labels: {
                    colors: '#374151'
                }
            },
            responsive: [{
                breakpoint: 480,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom'
                    }
                }
            }],
            dataLabels: {
                style: {
                    fontSize: '12px',
                    fontWeight: 'bold',
                    colors: ['#ffffff']
                }
            },
            tooltip: {
                theme: 'light'
            }
        };
        const connectionTypesChart = new ApexCharts(document.querySelector("#chart-connection-types"),
            connectionTypesOptions);
        connectionTypesChart.render();
    });
</script>

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="csrf-token" content="h6xhhCTpn9JHmbrJ1RgmAkkzbiG8uBspyNpOrdTo" />
    <title>Dashboard</title>
    <!-- BEGIN PAGE LEVEL STYLES -->
    <link href="/assets/libs/jsvectormap/dist/jsvectormap.css?v1762496404" rel="stylesheet" />
    <link rel="icon" href="/uploads/company/logo.png?v=1762496404" type="image/x-icon">
    <!-- END PAGE LEVEL STYLES -->
    <!-- BEGIN GLOBAL MANDATORY STYLES -->

    <link href="/assets/dist/css/tabler.css?v1762496404" rel="stylesheet" />
    <link href="/assets/custom.css?v1762496404" rel="stylesheet" />
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PLUGINS STYLES -->
    <link href="/assets/dist/css/tabler-flags.min.css?v1762496404" rel="stylesheet" integrity="sha384-fStl5MKxnUStSlpPiHGSFmUTTzr2KEY7jtgmvTswVDaQJ+sLbmEF+26m57M2sbCm" />
    <link href="/assets/dist/css/tabler-socials.min.css?v1762496404" rel="stylesheet" integrity="sha384-rYtfgzcCz11iyODxSKx70JwR+bSIYiIcjSzvRMppIC/s3uSfW787ZBJpOI9mk2VD" />
    <link href="/assets/dist/css/tabler-payments.min.css?v1762496404" rel="stylesheet" integrity="sha384-ZRk1rNf2hqzIWoHspDzfWz8bKW1dr1odUHzmItwuijP60huklItYuva1cveYhRs5" />
    <link href="/assets/dist/css/tabler-vendors.min.css?v1762496404" rel="stylesheet" integrity="sha384-CW4ecnQUl53vx8YMR5fr7mJTTQqoFz5pBEM2GoWprNI+H/t+WG6bosZLrQMdnbCh" />
    <link href="/assets/dist/css/tabler-marketing.min.css?v1762496404" rel="stylesheet" integrity="sha384-IILX0Nea/+/hbVhEsrQ/djsqtSJmb4CM9hPzWd7Yh8hzbyYp4N/4hWMQL5kIPEuZ" />
    <!-- END PLUGINS STYLES -->
    <!-- BEGIN DEMO STYLES -->
    <link href="/assets/preview/css/demo.min.css?v1762496404" rel="stylesheet" />
    <!-- END DEMO STYLES -->
    <!-- BEGIN CUSTOM FONT -->
    <style>
        @import url("https://rsms.me/inter/inter.css");
    </style>
    <!-- END CUSTOM FONT -->
</head>

<body class="layout-fluid">
    <!-- BEGIN GLOBAL THEME SCRIPT -->
    <script src="/assets/dist/js/tabler-theme.min.js?v1762496404" integrity="sha384-A3cPW06k7MATBoC8PrCQSSFp2BessRjLXR63rcN1i6JECA2x4K8kZUa3iSTstZa4"></script>
    <!-- END GLOBAL THEME SCRIPT -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.datatables.net/2.1.5/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.1.5/js/dataTables.bootstrap5.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.1.5/css/dataTables.bootstrap5.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons@latest/iconfont/tabler-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />


    <link rel="stylesheet" href="/assets/leaflet/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/esri-leaflet@3.0.2/dist/esri-leaflet.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-draw@1.0.4/dist/leaflet.draw.css" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
    <link href="/assets/libs/tom-select/dist/css/tom-select.bootstrap5.min.css" rel="stylesheet">


    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet-geosearch@3.0.0/dist/geosearch.css" />
    <script src="https://unpkg.com/leaflet-geosearch@latest/dist/bundle.min.js"></script>





    <div class="page">

        <!-- BEGIN PAGE HEADER MOBILE -->
        <header class="navbar navbar-expand-lg sticky-top">
            <div class="container-fluid mobile">
                <!-- BEGIN NAVBAR TOGGLER -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar-mobile" aria-controls="sidebar-mobile" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
                <!-- END NAVBAR TOGGLER -->
                <!-- BEGIN NAVBAR LOGO -->
                <div class="navbar-brand navbar-brand-autodark pe-0 pe-md-3">
                    <div class="d-lg-none">
                        <img src="/uploads/company/logo.png?1762496404" alt="Logo" id="navbar-logo-mobile" style="width: auto; height: auto; max-width: 120px; max-height: 40px; min-width: 60px; min-height: 20px; object-fit: contain;">
                    </div>
                </div>
                <!-- END NAVBAR LOGO -->
                <div class="navbar-nav flex-row order-md-last">
                    <div class="d-none d-md-flex">
                        <div class="nav-item">
                            <a href="?theme=dark" class="nav-link px-0 hide-theme-dark" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Enable dark mode" data-bs-original-title="Enable dark mode">
                                <!-- Download SVG icon from http://tabler.io/icons/icon/moon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-1">
                                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z">
                                </path>
                            </svg>
                            </a>
                            <a href="?theme=light" class="nav-link px-0 hide-theme-light" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Enable light mode" data-bs-original-title="Enable light mode">
                                <!-- Download SVG icon from http://tabler.io/icons/icon/sun -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-1">
                                <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path>
                                <path
                                    d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7">
                                </path>
                            </svg>
                            </a>
                        </div>
                        <div class="nav-item dropdown d-none d-md-flex">
                            <a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1" aria-label="Show notifications" data-bs-auto-close="outside" aria-expanded="false" id="notification-bell">
                                <!-- Download SVG icon from http://tabler.io/icons/icon/bell -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-1">
                                <path
                                    d="M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6">
                                </path>
                                <path d="M9 17v1a3 3 0 0 0 6 0v-1"></path>
                            </svg>
                                <span id="notification-badge" class="badge bg-red text-white" style="display: none;"></span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end dropdown-menu-card">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h3 class="card-title">Notifications</h3>
                                        <button type="button" class="btn btn-sm btn-outline-primary" id="mark-all-read">
                                        Mark all as read
                                    </button>
                                    </div>
                                    <div id="notification-list" class="list-group list-group-flush list-group-hoverable" style="max-height: 400px; overflow-y: auto;">
                                        <div class="list-group-item text-center p-4">
                                            <div class="text-muted">Loading notifications...</div>
                                        </div>
                                    </div>
                                    <div class="card-footer text-center">
                                        <small class="text-muted">Notifications are refreshed automatically</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link d-flex lh-1 p-0 px-2" data-bs-toggle="dropdown" aria-label="Open user menu">
                        <span class="avatar avatar-sm">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="icon icon-1">
                                <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
                                <path d="M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
                            </svg>
                        </span>
                        <div class="d-none d-xl-block ps-2">
                            <div>TUS NETWORK</div>
                            <div class="mt-1 small text-secondary">owner</div>
                        </div>
                    </a>
                        <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                            <a href="/admin/profile" class="dropdown-item">Profil</a>
                            <a href="/clear-cache" class="dropdown-item">Bersihkan Cache</a>
                            <a href="/auth/logout" class="dropdown-item">Keluar</a>
                        </div>
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="sidebar-mobile">
                    <!-- BEGIN NAVBAR MENU -->
                    <ul class="navbar-nav pt-lg-3 d-lg-none">
                        <li class="nav-item active">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/dashboard">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-home">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
                                    <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                                    <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
                                </svg>
                </span>
                        <span class="nav-link-title">Dashboard</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/settings/servers">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-server-2">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z" />
                                    <path
                                        d="M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z" />
                                    <path d="M7 8l0 .01" />
                                    <path d="M7 16l0 .01" />
                                    <path d="M11 8h6" />
                                    <path d="M11 16h6" />
                                </svg>
                </span>
                        <span class="nav-link-title">Mikrotik Server</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/settings/servers/products">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-library">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" />
                                    <path
                                        d="M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1" />
                                    <path d="M11 7h5" />
                                    <path d="M11 10h6" />
                                    <path d="M11 13h3" />
                                </svg>
                </span>
                        <span class="nav-link-title">Products</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item dropdown ">
                            <a class="nav-link dropdown-toggle" href="#navbar-distributions-mobile" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false">

                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-map-search">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M11 18l-2 -1l-6 3v-13l6 -3l6 3l6 -3v7.5" />
                                    <path d="M9 4v13" />
                                    <path d="M15 7v5" />
                                    <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
                                    <path d="M20.2 20.2l1.8 1.8" />
                                </svg>
            </span>
        
        <span class="nav-link-title">Distributions</span>
    </a>

                            <div class="dropdown-menu ">
                                <div class="dropdown-menu-columns">
                                    <div class="dropdown-menu-column">
                                        <a class="dropdown-item " href="/admin/settings/distributions">
                                Locations
                                <span class="badge badge-sm bg-green-lt text-uppercase ms-auto">ODP/HTB/BTS dll</span>
                            </a>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="nav-item dropdown ">
                            <a class="nav-link dropdown-toggle" href="#navbar-customers-mobile" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false">

                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-users">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
                                    <path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                                    <path d="M21 21v-2a4 4 0 0 0 -3 -3.85" />
                                </svg>
            </span>
        
        <span class="nav-link-title">Customers</span>
    </a>

                            <div class="dropdown-menu ">
                                <div class="dropdown-menu-columns">
                                    <div class="dropdown-menu-column">
                                        <a class="dropdown-item " href="/admin/customers">
                                Dashboard
                            </a>
                                        <a class="dropdown-item " href="/admin/customers/add">
                                Tambah Customer
                            </a>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/maps-new" target='_blank'>
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-map">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M3 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
                                    <path d="M7.5 3l4.5 3l4.5 -3l4.5 3v12l-4.5 -3l-4.5 3l-4.5 -3z" />
                                    <path d="M7.5 6v12" />
                                </svg>
                </span>
                        <span class="nav-link-title">Maps</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/invoices">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-calculator">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
                                    <path
                                        d="M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z" />
                                    <path d="M8 14l0 .01" />
                                    <path d="M12 14l0 .01" />
                                    <path d="M16 14l0 .01" />
                                    <path d="M8 17l0 .01" />
                                    <path d="M12 17l0 .01" />
                                    <path d="M16 17l0 .01" />
                                </svg>
                </span>
                        <span class="nav-link-title">Invoices</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/tickets">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-mail">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-16a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2" />
                                    <path d="M4 7l8 5l8 -5" />
                                </svg>
                </span>
                        <span class="nav-link-title">Tickets</span>
                            
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/transactions">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-cash">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M7 15h-3a1 1 0 0 1 -1 -1v-8a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v3" />
                                    <path
                                        d="M7 9m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z" />
                                    <path d="M12 14a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                                </svg>
                </span>
                        <span class="nav-link-title">Transactions</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/customer-notifications">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-bell-ringing">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" />
                                    <path d="M9 17v-6a3 3 0 0 1 .879 -2h4.242a3 3 0 0 1 .879 2v6l3 3h-12z" />
                                    <path d="M13.73 21a2 2 0 0 1 -3.46 0" />
                                </svg>
                </span>
                        <span class="nav-link-title">Notifications</span>
                    </span>
    </a>
                        </li>
                        <!-- Changelog -->
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/changelog">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon icon-tabler icons-tabler-outline icon-tabler-notebook">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M6 4h11a2 2 0 0 1 2 2v12l-5 -3l-5 3v-12a2 2 0 0 1 2 -2z" />
                                <path d="M12 6.5l0 11.5" />
                                <path d="M12 6.5l0 6l2.5 -1.5" />
                            </svg>
                </span>
                        <span class="nav-link-title">Changelog</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item dropdown ">
                            <a class="nav-link dropdown-toggle" href="#navbar-settings-mobile" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false">

                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-settings-code">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M11.482 20.924a1.666 1.666 0 0 1 -1.157 -1.241a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.312 .318 1.644 1.794 .995 2.697" />
                                    <path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />
                                    <path d="M20 21l2 -2l-2 -2" />
                                    <path d="M17 17l-2 2l2 2" />
                                </svg>
            </span>
        
        <span class="nav-link-title">Settings</span>
    </a>

                            <div class="dropdown-menu ">
                                <div class="dropdown-menu-columns">
                                    <div class="dropdown-menu-column">
                                        <a class="dropdown-item " href="/admin/settings/general">
                                General
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/landing-page">
                                Landing Page
                                
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/payment">
                                Payment
                                <span class="badge badge-sm bg-teal-lt text-uppercase ms-auto">Gateway</span>
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/users">
                                Users Management
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/whatsapp-gateways">
                                WhatsApp Gateway
                                <span class="badge badge-sm bg-green-lt text-uppercase ms-auto">New</span>
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/automation">
                                Automation
                                <span class="badge badge-sm bg-teal-lt text-uppercase ms-auto">Scheduler</span>
                            </a>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/failed-automations">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-alert-triangle">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M12 9v4" />
                                    <path
                                        d="M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z" />
                                    <path d="M12 16h.01" />
                                </svg>
                </span>
                        <span class="nav-link-title">Failed Automation ( 0 )</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="https://docs.bayarinternet.com" target='_blank'>
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="icon icon-tabler icon-tabler-file-text">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                <path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z" />
                                <line x1="9" y1="13" x2="15" y2="13" />
                                <line x1="9" y1="17" x2="13" y2="17" />
                            </svg>
                </span>
                        <span class="nav-link-title">Dokumentasi</span>
                    </span>
    </a>
                        </li>
                    </ul>
                    <!-- END NAVBAR MENU -->
                </div>
            </div>
        </header>
        <!-- END PAGE HEADER -->

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Notification system
                const notificationBell = document.getElementById('notification-bell');
                const notificationBadge = document.getElementById('notification-badge');
                const notificationList = document.getElementById('notification-list');
                const markAllReadBtn = document.getElementById('mark-all-read');

                // Function to update notification badge
                function updateNotificationBadge(count) {
                    if (count > 0) {
                        notificationBadge.textContent = count > 99 ? '99+' : count;
                        notificationBadge.style.display = 'inline';
                    } else {
                        notificationBadge.style.display = 'none';
                    }
                }

                // Function to format notification time
                function formatNotificationTime(datetime) {
                    const date = new Date(datetime);
                    const now = new Date();
                    const diffMs = now - date;
                    const diffMins = Math.floor(diffMs / 60000);
                    const diffHours = Math.floor(diffMs / 3600000);
                    const diffDays = Math.floor(diffMs / 86400000);

                    if (diffMins < 1) return 'Just now';
                    if (diffMins < 60) return `${diffMins}m ago`;
                    if (diffHours < 24) return `${diffHours}h ago`;
                    if (diffDays < 7) return `${diffDays}d ago`;
                    return date.toLocaleDateString();
                }

                // Function to get notification icon based on type
                function getNotificationIcon(type) {
                    const icons = {
                        'success': '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon text-green"><path d="M20 6L9 17l-5-5"></path></svg>',
                        'error': '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon text-red"><path d="m21 21-4.35-4.35m0 0A7.5 7.5 0 1 0 12 20.65a7.5 7.5 0 0 0 4.65-1.65z"></path><path d="m9 9 6 6"></path></svg>',
                        'warning': '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon text-yellow"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="m12 17 .01 0"></path></svg>',
                        'info': '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon text-blue"><circle cx="12" cy="12" r="10"></circle><path d="m9 12 2 2 4-4"></path></svg>'
                    };
                    return icons[type] || icons['info'];
                }

                // Function to render notifications
                function renderNotifications(notifications) {
                    if (!notifications || notifications.length === 0) {
                        notificationList.innerHTML = `
                <div class="list-group-item text-center p-4">
                    <div class="text-muted">No notifications</div>
                </div>
            `;
                        return;
                    }

                    notificationList.innerHTML = notifications.map(notification => `
            <div class="list-group-item notification-item ${notification.read_at ? '' : 'bg-gray-200'} ${notification.action_type === 'new_ticket' ? 'cursor-pointer' : ''}" data-id="${notification.id}" data-action-type="${notification.action_type}" style="${notification.action_type === 'new_ticket' ? 'cursor: pointer;' : ''}">
                <div class="row align-items-center">
                    <div class="col-auto">
                        ${getNotificationIcon(notification.type)}
                    </div>
                    <div class="col text-truncate">
                        <div class="text-body fw-medium ${notification.read_at ? '' : 'fw-bold'}">${notification.title}</div>
                        <div class="text-secondary text-truncate mt-n1">${notification.message}</div>
                        <div class="text-muted small">${formatNotificationTime(notification.created_at)}</div>
                    </div>
                    <div class="col-auto">
                        <div class="dropdown">
                            <button class="btn btn-ghost-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                ${!notification.read_at ? '<li><a class="dropdown-item mark-as-read" href="#" data-id="' + notification.id + '">Mark as read</a></li>' : ''}
                                <li><a class="dropdown-item delete-notification text-danger" href="#" data-id="${notification.id}">Delete</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
                }

                // Function to load notifications
                function loadNotifications() {
                    fetch('/admin/notifications', {
                            method: 'GET',
                            headers: {
                                'X-Requested-With': 'XMLHttpRequest',
                                'X-CSRF-TOKEN': (function(){ const m = document.querySelector('meta[name="csrf-token"]'); return m ? (m.getAttribute('content') || '') : ''; })()
                            }
                        })
                        .then(response => response.json())
                        .then(data => {
                            updateNotificationBadge(data.unread_count);
                            renderNotifications(data.notifications);
                        })
                        .catch(error => {
                            console.error('Error loading notifications:', error);
                            notificationList.innerHTML = `
                <div class="list-group-item text-center p-4">
                    <div class="text-danger">Error loading notifications</div>
                </div>
            `;
                        });
                }

                // Event listeners
                notificationBell.addEventListener('click', function() {
                    loadNotifications();
                });

                markAllReadBtn.addEventListener('click', function() {
                    fetch('/admin/notifications/mark-all-read', {
                            method: 'POST',
                            headers: {
                                'X-Requested-With': 'XMLHttpRequest',
                                'X-CSRF-TOKEN': (function(){ const m = document.querySelector('meta[name="csrf-token"]'); return m ? (m.getAttribute('content') || '') : ''; })(),
                                'Content-Type': 'application/json'
                            }
                        })
                        .then(response => response.json())
                        .then(data => {
                            if (data.success) {
                                updateNotificationBadge(0);
                                loadNotifications();
                            }
                        })
                        .catch(error => console.error('Error marking all as read:', error));
                });

                // Event delegation for notification actions
                notificationList.addEventListener('click', function(e) {
                    const notificationItem = e.target.closest('.notification-item');

                    if (e.target.classList.contains('mark-as-read')) {
                        e.preventDefault();
                        const notificationId = e.target.getAttribute('data-id');

                        fetch(`/admin/notifications/${notificationId}/mark-as-read`, {
                                method: 'POST',
                                headers: {
                                    'X-Requested-With': 'XMLHttpRequest',
                                    'X-CSRF-TOKEN': (function(){ const m = document.querySelector('meta[name="csrf-token"]'); return m ? (m.getAttribute('content') || '') : ''; })(),
                                    'Content-Type': 'application/json'
                                }
                            })
                            .then(response => response.json())
                            .then(data => {
                                if (data.success) {
                                    updateNotificationBadge(data.unread_count);
                                    loadNotifications();
                                }
                            })
                            .catch(error => console.error('Error marking as read:', error));
                    } else if (e.target.classList.contains('delete-notification')) {
                        e.preventDefault();
                        const notificationId = e.target.getAttribute('data-id');

                        if (confirm('Are you sure you want to delete this notification?')) {
                            fetch(`/admin/notifications/${notificationId}`, {
                                    method: 'DELETE',
                                    headers: {
                                        'X-Requested-With': 'XMLHttpRequest',
                                        'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]') ?
                                            (function(){ const m = document.querySelector('meta[name="csrf-token"]'); return m ? (m.getAttribute('content') || '') : ''; })(),
                                        'Content-Type': 'application/json'
                                    }
                                })
                                .then(response => response.json())
                                .then(data => {
                                    if (data.success) {
                                        updateNotificationBadge(data.unread_count);
                                        loadNotifications();
                                    }
                                })
                                .catch(error => console.error('Error deleting notification:', error));
                        }
                    } else if (notificationItem && notificationItem.dataset.actionType === 'new_ticket') {
                        e.preventDefault();
                        const notificationId = notificationItem.getAttribute('data-id');

                        fetch(`/admin/notifications/${notificationId}/mark-as-read`, {
                                method: 'POST',
                                headers: {
                                    'X-Requested-With': 'XMLHttpRequest',
                                    'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]') ?
                                        (function(){ const m = document.querySelector('meta[name="csrf-token"]'); return m ? (m.getAttribute('content') || '') : ''; })(),
                                    'Content-Type': 'application/json'
                                }
                            })
                            .then(response => response.json())
                            .then(data => {
                                if (data.success) {
                                    updateNotificationBadge(data.unread_count);
                                    window.location.href = '/admin/tickets';
                                }
                            })
                            .catch(error => {
                                console.error('Error marking as read:', error);
                                window.location.href = '/admin/tickets';
                            });
                    }
                });

                // Load notifications on page load
                loadNotifications();

                // Auto-refresh notifications every 30 seconds
                setInterval(function() {
                    fetch('/admin/notifications/unread-count', {
                            method: 'GET',
                            headers: {
                                'X-Requested-With': 'XMLHttpRequest',
                                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]') ?
                                    (function(){ const m = document.querySelector('meta[name="csrf-token"]'); return m ? (m.getAttribute('content') || '') : ''; })()
                            }
                        })
                        .then(response => response.json())
                        .then(data => {
                            updateNotificationBadge(data.unread_count);
                        })
                        .catch(error => console.error('Error checking notifications:', error));
                }, 30000);
            });
        </script>
        <!--  BEGIN SIDEBAR  -->
        <aside class="navbar navbar-vertical navbar-expand-lg d-none d-lg-flex" style="min-height: 100vh;">
            <div class="container-fluid d-flex flex-column h-100">
                <!-- BEGIN NAVBAR TOGGLER -->

                <!-- END NAVBAR TOGGLER -->
                <!-- BEGIN NAVBAR LOGO -->
                <div class="navbar-brand navbar-brand-autodark d-none d-lg-block pt-4 px-4">
                    <a href="/admin/dashboard" class="text-teal d-flex align-items-center">
                                            <img src="/uploads/company/logo.png?1762496404" alt="Logo" id="navbar-logo"
                            style="width: auto; height: auto; max-width: 150px; max-height: 60px; min-width: 80px; min-height: 30px; object-fit: contain;">
                                    </a>
                </div>
                <!-- END NAVBAR LOGO -->

                <div class="collapse navbar-collapse" id="sidebar-menu">
                    <!-- BEGIN NAVBAR MENU -->
                    <ul class="navbar-nav pt-lg-3 d-flex flex-column h-100">

                        <li class="nav-item active">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/dashboard">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-home">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
                                    <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                                    <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
                                </svg>
                </span>
                        <span class="nav-link-title">Dashboard</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/settings/servers">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round"
                                        class="icon icon-tabler icons-tabler-outline icon-tabler-server-2">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path
                                            d="M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z" />
                                        <path
                                            d="M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z" />
                                        <path d="M7 8l0 .01" />
                                        <path d="M7 16l0 .01" />
                                        <path d="M11 8h6" />
                                        <path d="M11 16h6" />
                                    </svg>
                </span>
                        <span class="nav-link-title">Mikrotik Server</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/settings/servers/products">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round"
                                        class="icon icon-tabler icons-tabler-outline icon-tabler-library">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                        <path
                                            d="M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" />
                                        <path
                                            d="M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1" />
                                        <path d="M11 7h5" />
                                        <path d="M11 10h6" />
                                        <path d="M11 13h3" />
                                    </svg>
                </span>
                        <span class="nav-link-title">Products</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item dropdown ">
                            <a class="nav-link dropdown-toggle" href="#navbar-distributions" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false">

                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-map-search">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M11 18l-2 -1l-6 3v-13l6 -3l6 3l6 -3v7.5" />
                                    <path d="M9 4v13" />
                                    <path d="M15 7v5" />
                                    <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
                                    <path d="M20.2 20.2l1.8 1.8" />
                                </svg>
            </span>
        
        <span class="nav-link-title">Distributions</span>
    </a>

                            <div class="dropdown-menu ">
                                <div class="dropdown-menu-columns">
                                    <div class="dropdown-menu-column">
                                        <a class="dropdown-item " href="/admin/settings/distributions">
                                Locations
                                <span class="badge badge-sm bg-green-lt text-uppercase ms-auto">ODP/HTB/BTS dll</span>
                            </a>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="nav-item dropdown ">
                            <a class="nav-link dropdown-toggle" href="#navbar-customers" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false">

                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-users">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
                                    <path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                                    <path d="M21 21v-2a4 4 0 0 0 -3 -3.85" />
                                </svg>
            </span>
        
        <span class="nav-link-title">Customers</span>
    </a>

                            <div class="dropdown-menu ">
                                <div class="dropdown-menu-columns">
                                    <div class="dropdown-menu-column">
                                        <a class="dropdown-item " href="/admin/customers">
                                Dashboard
                                
                            </a>
                                        <a class="dropdown-item " href="/admin/customers/add">
                                Tambah Customer
                                
                            </a>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/maps-new" target='_blank'>
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-map">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M3 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
                                    <path d="M7.5 3l4.5 3l4.5 -3l4.5 3v12l-4.5 -3l-4.5 3l-4.5 -3z" />
                                    <path d="M7.5 6v12" />
                                </svg>
                </span>
                        <span class="nav-link-title">Maps</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/invoices">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-calculator">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
                                    <path
                                        d="M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z" />
                                    <path d="M8 14l0 .01" />
                                    <path d="M12 14l0 .01" />
                                    <path d="M16 14l0 .01" />
                                    <path d="M8 17l0 .01" />
                                    <path d="M12 17l0 .01" />
                                    <path d="M16 17l0 .01" />
                                </svg>
                </span>
                        <span class="nav-link-title">Invoices</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/tickets">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-mail">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-16a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2" />
                                    <path d="M4 7l8 5l8 -5" />
                                </svg>
                </span>
                        <span class="nav-link-title">Tickets</span>
                            
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/transactions">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-cash">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M7 15h-3a1 1 0 0 1 -1 -1v-8a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v3" />
                                    <path
                                        d="M7 9m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z" />
                                    <path d="M12 14a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                                </svg>
                </span>
                        <span class="nav-link-title">Transactions</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/customer-notifications">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-bell-ringing">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" />
                                    <path d="M9 17v-6a3 3 0 0 1 .879 -2h4.242a3 3 0 0 1 .879 2v6l3 3h-12z" />
                                    <path d="M13.73 21a2 2 0 0 1 -3.46 0" />
                                </svg>
                </span>
                        <span class="nav-link-title">Notifications</span>
                    </span>
    </a>
                        </li>
                        <!-- Spacer to push bottom items to bottom -->
                        <li class="nav-item flex-fill"></li>

                        <!-- Bottom section items -->
                        <!-- Changelog -->
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/changelog">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon icon-tabler icons-tabler-outline icon-tabler-notebook">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M6 4h11a2 2 0 0 1 2 2v12l-5 -3l-5 3v-12a2 2 0 0 1 2 -2z" />
                                <path d="M12 6.5l0 11.5" />
                                <path d="M12 6.5l0 6l2.5 -1.5" />
                            </svg>
                </span>
                        <span class="nav-link-title">Changelog</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item dropdown ">
                            <a class="nav-link dropdown-toggle" href="#navbar-settings" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false">

                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-settings-code">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M11.482 20.924a1.666 1.666 0 0 1 -1.157 -1.241a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.312 .318 1.644 1.794 .995 2.697" />
                                    <path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />
                                    <path d="M20 21l2 -2l-2 -2" />
                                    <path d="M17 17l-2 2l2 2" />
                                </svg>
            </span>
        
        <span class="nav-link-title">Settings</span>
    </a>

                            <div class="dropdown-menu ">
                                <div class="dropdown-menu-columns">
                                    <div class="dropdown-menu-column">
                                        <a class="dropdown-item " href="/admin/settings/general">
                                General
                                
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/landing-page">
                                Landing Page
                                
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/payment">
                                Payment
                                <span class="badge badge-sm bg-teal-lt text-uppercase ms-auto">Gateway</span>
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/users">
                                Users Management
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/whatsapp-gateways">
                                WhatsApp Gateway
                                <span class="badge badge-sm bg-green-lt text-uppercase ms-auto">New</span>
                            </a>
                                        <a class="dropdown-item " href="/admin/settings/automation">
                                Automation
                                <span class="badge badge-sm bg-teal-lt text-uppercase ms-auto">Scheduler</span>
                            </a>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="/admin/failed-automations">
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-alert-triangle">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M12 9v4" />
                                    <path
                                        d="M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z" />
                                    <path d="M12 16h.01" />
                                </svg>
                </span>
                        <span class="nav-link-title">Failed Automation ( 0 )</span>
                    </span>
    </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex justify-content-between align-items-center gap-2" href="https://docs.bayarinternet.com" target='_blank'>
        <span class="d-flex align-items-center flex-grow-1">
                            <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="icon icon-tabler icon-tabler-file-text">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                <path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z" />
                                <line x1="9" y1="13" x2="15" y2="13" />
                                <line x1="9" y1="17" x2="13" y2="17" />
                            </svg>
                </span>
                        <span class="nav-link-title">Dokumentasi</span>
                    </span>
    </a>
                        </li> <br>
                    </ul>
                    <!-- END NAVBAR MENU -->
                </div>
            </div>
        </aside>
        <!--  END SIDEBAR  -->

        <div class="page-wrapper">

            <div class="modal modal-blur" id="mload" tabindex="-1" role="dialog" aria-modal="true" data-bs-backdrop="static" style="padding-left: 0px;z-index: 5000;">
                <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                    <div class="modal-content" style="background: transparent; border: none; box-shadow: none;">
                        <div class="modal-body text-center" style="padding: 2rem;">
                            <div class="pulsing-dots">
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                            </div>
                            <div class="text-white mt-3" style="font-weight: 500;">Loading...</div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal modal-blur fade" id="updateNotificationModal" tabindex="-1" role="dialog" aria-modal="true" data-bs-backdrop="static">
                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="updateNotificationTitle">
                                <i class="ti ti-bell-ringing text-warning me-2"></i> Update Notification
                            </h5>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-12">
                                    <div id="updateNotificationMessage" class="mt-3">

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-teal" id="markAsReadBtn">
                                <i class="ti ti-check me-1"></i>
                                
                                Sudah Baca!
                            </button>
                        </div>
                    </div>
                </div>
            </div>


            <!-- BEGIN PAGE BODY -->
            <div class="page-body">
                <div class="container-xl">
                    <div class="row row-deck row-cards">
                        <!-- Customer Statistics -->
                        <div class="col-12">
                            <div class="row row-cards">
                                <div class="col-12">
                                    <h2 class="mb-4">Ringkasan Pelanggan</h2>
                                </div>

                                <div class="col-sm-6 col-lg-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Total Pelanggan</div>
                                                    <div class="h2 my-1 text-primary">0</div>
                                                    <div class="d-flex">
                                                        <div>Seluruh pelanggan terdaftar</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Pelanggan Aktif</div>
                                                    <div class="h2 my-1 text-success">0</div>
                                                    <div class="d-flex">
                                                        <div>Sedang aktif (0%)</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Pengguna PPPoE</div>
                                                    <div class="h2 my-1 text-blue">0</div>
                                                    <div class="d-flex">
                                                        <div>Koneksi PPPoE</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Invoice & Financial Statistics -->
                        <div class="col-12">
                            <div class="row row-cards">
                                <div class="col-12">
                                    <h2 class="mb-4">Ringkasan Keuangan</h2>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Total Pendapatan</div>
                                                    <div class="h2 my-1 text-success">Rp 0</div>
                                                    <div class="d-flex">
                                                        <div>Dari tagihan yang telah dibayar</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Tagihan Terbayar</div>
                                                    <div class="h2 my-1 text-success">0</div>
                                                    <div class="d-flex">
                                                        <div>Berhasil dibayar (0%)</div>
                                                    </div>
                                                    <div class="progress progress-sm my-2">
                                                        <div class="progress-bar bg-success" style="width: 0%" role="progressbar">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Jumlah Belum Dibayar</div>
                                                    <div class="h2 my-1 text-warning">Rp 0</div>
                                                    <div class="d-flex">
                                                        <div>0 tagihan belum dibayar</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Tagihan Lewat Jatuh Tempo</div>
                                                    <div class="h2 my-1 text-danger">0</div>
                                                    <div class="d-flex">
                                                        <div>Perlu perhatian segera</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Monthly Invoice Statistics -->
                        <div class="col-12">
                            <div class="row row-cards">
                                <div class="col-12">
                                    <h2 class="mb-4">Ringkasan Tagihan Bulan Ini</h2>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Total Tagihan</div>
                                                    <div class="h2 my-1 text-primary">Rp 0</div>
                                                    <div class="d-flex">
                                                        <div>Total nilai tagihan bulan ini</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Tagihan Terbayar</div>
                                                    <div class="h2 my-1 text-success">Rp 0</div>
                                                    <div class="d-flex">
                                                        <div>Total nilai yang sudah dibayar bulan ini</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Belum Dibayar</div>
                                                    <div class="h2 my-1 text-warning">Rp 0</div>
                                                    <div class="d-flex">
                                                        <div>Total nilai yang menunggu pembayaran</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-lg-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex align-items-center">
                                                <div class="w-100">
                                                    <div class="subheader">Terlambat</div>
                                                    <div class="h2 my-1 text-danger">Rp 0</div>
                                                    <div class="d-flex">
                                                        <div>Total nilai yang sudah terlambat</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Infrastructure & Monthly Statistics -->
                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Ringkasan Infrastruktur</h3>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="mb-3">
                                                <div class="d-flex align-items-center justify-content-between">
                                                    <span>Server</span>
                                                    <span class="text-muted">0</span>
                                                </div>
                                                <div class="progress progress-sm">
                                                    <div class="progress-bar bg-primary" style="width: 0%" role="progressbar">
                                                    </div>
                                                </div>
                                                <small class="text-muted">0 aktif</small>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="mb-3">
                                                <div class="d-flex align-items-center justify-content-between">
                                                    <span>Produk</span>
                                                    <span class="text-muted">0</span>
                                                </div>
                                                <div class="progress progress-sm">
                                                    <div class="progress-bar bg-info" style="width: 0%" role="progressbar">
                                                    </div>
                                                </div>
                                                <small class="text-muted">0 aktif</small>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="mb-3">
                                                <div class="d-flex align-items-center justify-content-between">
                                                    <span>Distribusi</span>
                                                    <span class="text-muted">0</span>
                                                </div>
                                                <small class="text-muted">Titik distribusi jaringan</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Aktivitas Bulan Ini</h3>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12">


                                            <div class="mb-4">
                                                <div class="row align-items-center">
                                                    <div class="col-auto">
                                                        <span class="bg-teal text-white avatar">
                
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                                        <circle cx="9" cy="7" r="4" />
                                        <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                                        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                                    </svg>
            </span>
                                                    </div>
                                                    <div class="col">
                                                        <div class="font-weight-medium">Pelanggan Baru</div>
                                                        <div class="text-secondary">0 bulan ini</div>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="mb-4">
                                                <div class="row align-items-center">
                                                    <div class="col-auto">
                                                        <span class="bg-blue text-white avatar">
                
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                        <polyline points="14,2 14,8 20,8" />
                                        <line x1="16" y1="13" x2="8" y2="13" />
                                        <line x1="16" y1="17" x2="8" y2="17" />
                                        <polyline points="10,9 9,9 8,9" />
                                    </svg>
            </span>
                                                    </div>
                                                    <div class="col">
                                                        <div class="font-weight-medium">Tagihan Dibuat</div>
                                                        <div class="text-secondary">0 bulan ini</div>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="mb-4">
                                                <div class="row align-items-center">
                                                    <div class="col-auto">
                                                        <span class="bg-success text-white avatar">
                
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path
                                            d="M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2" />
                                        <path d="M12 3v3m0 12v3" />
                                    </svg>
            </span>
                                                    </div>
                                                    <div class="col">
                                                        <div class="font-weight-medium">Pendapatan Bulanan</div>
                                                        <div class="text-secondary">Rp 0</div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Customer Status Breakdown -->
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Rincian Status Pelanggan</h3>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-6 col-lg-4">
                                            <div class="d-flex align-items-center mb-3">
                                                <div class="me-3">
                                                    <span class="bg-success text-white avatar avatar-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="icon">
                                <polyline points="20 6 9 17 4 12" />
                            </svg>
            </span>
                                                </div>
                                                <div>
                                                    <div class="font-weight-medium">Aktif</div>
                                                    <div class="text-muted">0 pelanggan</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6 col-lg-4">
                                            <div class="d-flex align-items-center mb-3">
                                                <div class="me-3">
                                                    <span class="bg-secondary text-white avatar avatar-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="icon">
                                <circle cx="12" cy="12" r="10" />
                                <line x1="15" y1="9" x2="9" y2="15" />
                                <line x1="9" y1="9" x2="15" y2="15" />
                            </svg>
            </span>
                                                </div>
                                                <div>
                                                    <div class="font-weight-medium">Tidak Aktif</div>
                                                    <div class="text-muted">0 pelanggan</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6 col-lg-4">
                                            <div class="d-flex align-items-center mb-3">
                                                <div class="me-3">
                                                    <span class="bg-warning text-white avatar avatar-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="icon">
                                <circle cx="12" cy="12" r="10" />
                                <line x1="12" y1="8" x2="12" y2="12" />
                                <line x1="12" y1="16" x2="12.01" y2="16" />
                            </svg>
            </span>
                                                </div>
                                                <div>
                                                    <div class="font-weight-medium">Disuspend</div>
                                                    <div class="text-muted">0 pelanggan</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Section -->
                        <div class="col-12">
                            <h2 class="mb-4">Grafik</h2>
                        </div>

                        <!-- Charts Row 1: Customer Status and Invoice Status -->
                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Distribusi Status Pelanggan</h3>
                                </div>
                                <div class="card-body">
                                    <div id="chart-customer-status"></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Status Tagihan</h3>
                                </div>
                                <div class="card-body">
                                    <div id="chart-invoice-status"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Row 2: Revenue Trends -->
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Tren Pendapatan (12 Bulan Terakhir)</h3>
                                </div>
                                <div class="card-body">
                                    <div id="chart-revenue-trend"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts Row 3: Customer Growth and Connection Types -->
                        <div class="col-lg-12">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Pertumbuhan Pelanggan (12 Bulan Terakhir)</h3>
                                </div>
                                <div class="card-body">
                                    <div id="chart-customer-growth"></div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>

            <!-- END PAGE BODY -->


            <!--  BEGIN FOOTER  -->
            <footer class="footer footer-transparent d-print-none">
                <div class="container-xl">
                    <div class="row text-center align-items-center flex-row-reverse">
                        <div class="col-lg-auto ms-lg-auto">
                            <ul class="list-inline list-inline-dots mb-0">
                            </ul>
                        </div>
                        <div class="col-12 col-lg-auto mt-3 mt-lg-0">
                            <ul class="list-inline list-inline-dots mb-0">
                                <li class="list-inline-item">
                                    Copyright &copy; 2025
                                    <a href="#" class="link-secondary">Bayar Internet</a>. All rights reserved.
                                </li>
                                <li class="list-inline-item">
                                    <a href="/admin/changelog" class="link-secondary" rel="noopener">1.1.7-rc1 ( 28 September 2025 )</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
            <!--  END FOOTER  -->
        </div>
    </div>

    <!-- BEGIN PAGE LIBRARIES -->
    <script src="/assets/libs/apexcharts/dist/apexcharts.min.js?" defer></script>
    <script src="/assets/libs/jsvectormap/dist/jsvectormap.min.js?" defer></script>
    <script src="/assets/libs/jsvectormap/dist/maps/world.js?" defer></script>
    <script src="/assets/libs/jsvectormap/dist/maps/world-merc.js?" defer></script>
    <!-- END PAGE LIBRARIES -->
    <!-- BEGIN GLOBAL MANDATORY SCRIPTS -->
    <script src="/assets/dist/js/tabler.min.js?" defer></script>
    <!-- END GLOBAL MANDATORY SCRIPTS -->
    <!-- BEGIN DEMO SCRIPTS -->
    <script src="/assets/preview/js/demo.min.js?"></script>
    <!-- END DEMO SCRIPTS -->
    <script src="/assets/libs/tom-select/dist/js/tom-select.base.min.js"></script>
    <script>
        function handleFormSubmit(event) {
            event.preventDefault();

            const form = event.target.form;

            if (form.checkValidity()) {
                $('#mload').modal('show'); // Tampilkan modal loading
                setTimeout(() => {
                    form.submit(); // Submit setelah 500ms
                }, 500);
            } else {
                form.reportValidity(); // Tampilkan pesan validasi
            }
        }
        // Fungsi untuk menangani klik pada tautan
        $(document).on('click', 'a[href]', function(e) {
            const href = $(this).attr('href');

            // Abaikan jika:
            // - Link mengarah ke # atau kosong
            // - Link menggunakan javascript:void()
            // - Link membuka tab baru
            if (!href ||
                href.startsWith('#') ||
                href.startsWith('javascript') ||
                $(this).attr('target') === '_blank'
            ) {
                return;
            }

            e.preventDefault(); // cegah redirect langsung

            // Tampilkan modal
            $('#mload').modal('show');
            // Setelah delay, lanjutkan redirect
            window.location.href = href;
            // Sembunyikan modal setelah halaman selesai dimuat
        });
        $(window).on('load', function() {
            $('#mload').modal('hide');
        }); // Pastikan modal tetap disembunyikan saat kembali ke halaman sebelumnya
        $(window).on('pageshow', function(event) {
            if (event.originalEvent.persisted) {
                $('#mload').modal('hide');
            }
        });
        $('#mload').on('show.bs.modal', function() {
            $(this).find('.modal-dialog').css('transition', 'transform 0.15s ease-out');
        });

        // Update Notification Modal Functions
        function showUpdateNotification(data) {
            // Update modal content
            if (data.title) {
                $('#updateNotificationTitle').html('<i class="ti ti-bell-ringing text-warning me-2"></i>' + data.title);
            }

            if (data.message) {
                $('#updateNotificationMessage').html(data.message);
            }

            // Store notification ID for marking as read
            if (data.id) {
                $('#markAsReadBtn').data('notification-id', data.id);
            }

            // Show the modal
            $('#updateNotificationModal').modal('show');
        }

        // Check for update notifications on page load
        function checkUpdateNotifications() {
            $.ajax({
                url: '/api/update-notifications/check',
                method: 'GET',
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                },
                success: function(response) {
                    if (response.success && response.is_read === false) {
                        showUpdateNotification(response.data);
                    }
                },
                error: function(xhr, status, error) {
                    console.log('Error checking update notifications:', error);
                }
            });
        }

        // Mark notification as read
        $('#markAsReadBtn').on('click', function() {

            $.ajax({
                url: '/api/update-notifications/mark-as-read',
                method: 'POST',
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                },
                success: function(response) {
                    if (response.success) {
                        $('#updateNotificationModal').modal('hide');
                        // Optional: Show success message
                        console.log('Notification marked as read');
                        // window.location.href = '/admin/changelog'
                    }
                },
                error: function(xhr, status, error) {
                    console.log('Error marking notification as read:', error);
                    $('#updateNotificationModal').modal('hide');
                }
            });
        });

        // Global function to trigger update notification from anywhere
        window.triggerUpdateNotification = function(data) {
            showUpdateNotification(data);
        };

        // Global function to create new notification
        window.createUpdateNotification = function(title, message) {
            $.ajax({
                url: '/api/update-notifications/create',
                method: 'POST',
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                },
                data: {
                    title: title,
                    message: message
                },
                success: function(response) {
                    if (response.success) {
                        console.log('Notification created successfully');
                        // Optionally check for new notifications immediately
                        checkUpdateNotifications();
                    }
                },
                error: function(xhr, status, error) {
                    console.log('Error creating notification:', error);
                }
            });
        };

        // Check for notifications when page loads
        $(document).ready(function() {
            // Check for notifications on page load
            checkUpdateNotifications();
        });

        // Check periodically for new notifications (every 5 minutes)
        setInterval(checkUpdateNotifications, 300000); // 5 minutes
    </script>

    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"e4baa6f961e64f30b711cac02c7c9258","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}'
        crossorigin="anonymous"></script>
</body>

</html>